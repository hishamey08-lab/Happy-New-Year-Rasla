<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy-New-Year-Rasla</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#000;
  color:white;
  text-align:center;
  overflow:hidden;
}
.page{
  display:none;
  height:100vh;
  width:100vw;
}
.page.active{display:block}

/* HEARTBEAT */
.heartbeat{
  animation:heartbeat 1s infinite;
  font-size:2em;
  color:pink;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  25%{transform:scale(1.15)}
  40%{transform:scale(1)}
  60%{transform:scale(1.2)}
  100%{transform:scale(1)}
}

/* FIREWORKS */
.firework{
  position:fixed;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:explode .8s ease-out forwards;
  z-index:9999;
}
@keyframes explode{
  from{transform:scale(0);opacity:1}
  to{transform:scale(20);opacity:0}
}

/* HEART GAME */
.heart{
  position:absolute;
  font-size:30px;
  cursor:pointer;
}

/* PUZZLE */
.puzzle{
  display:grid;
  grid-template-columns:repeat(3,100px);
  gap:6px;
  justify-content:center;
  margin:auto;
}
.piece{
  width:100px;
  height:100px;
  background-image:url("IMG-20251005-WA0029.jpg");
  background-size:300px 300px;
  border-radius:12px;
  cursor:pointer;
}

/* IMAGES */
img{
  max-width:80%;
  margin:10px;
  border-radius:15px;
}
</style>
</head>

<body>

<!-- üéµ BACKGROUND MUSIC -->
<audio id="bgMusic" loop preload="auto">
  <source src="A_Thousand_Years_Instrumental.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <h1 class="heartbeat">üîê Enter Password</h1>
  <input type="password" id="pass" placeholder="Password">
  <br><br>
  <button onclick="checkPass()">Unlock ‚ù§Ô∏è</button>
  <p id="statusText"></p>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
  <h2>Catch 5 Hearts üíó</h2>
  <p id="heartCount">0 / 5</p>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
  <h2>Love Puzzle üíñ</h2>
  <div class="puzzle" id="puzzle"></div>
</div>

<!-- PAGE 4 -->
<div class="page" id="page4">
  <h2 class="heartbeat">My Wish for This New Year</h2>
  <p>
    This New Year, I don‚Äôt wish for money,<br>
    I don‚Äôt wish for fame,<br>
    I don‚Äôt wish for success.<br><br>
    My only wish is <b>you, Rasla ‚ù§Ô∏è</b><br><br>
    Because when you are with me,<br>
    every fear becomes calm,<br>
    every broken part feels complete,<br>
    and every moment feels like home.<br><br>
    If I have you,<br>
    I already have everything.<br><br>
    <b>Happy New Year, my forever üéÜ</b>
  </p>
  <img src="IMG-20251129-WA0066.jpg">
  <img src="IMG-20251129-WA0032.jpg">
</div>

<script>
/* PAGE SWITCH */
function show(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* MUSIC ‚Äì USER ACTION */
let musicStarted=false;
function startMusic(){
  if(!musicStarted){
    const music=document.getElementById("bgMusic");
    music.volume=0.7;
    music.play().catch(()=>{});
    musicStarted=true;
  }
}
document.addEventListener("click",startMusic);
document.addEventListener("touchstart",startMusic);

/* FIREWORKS */
function fireworks(){
  for(let i=0;i<12;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*100+"vh";
    f.style.background=`hsl(${Math.random()*360},100%,60%)`;
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),800);
  }
}

/* PASSWORD + COUNTDOWN */
function checkPass(){
  if(pass.value==="RAAHII"){
    startMusic();
    let c=10;
    const status=document.getElementById("statusText");
    status.classList.add("heartbeat");

    const timer=setInterval(()=>{
      if(c>3) status.innerText=c;
      else status.innerText="Get ready Rasla‚Ä¶ "+c;
      if(c===1) fireworks();
      c--;
      if(c<0){
        clearInterval(timer);
        show("page2");
        startHearts();
      }
    },1000);
  }else{
    alert("Wrong password ‚ùå");
  }
}

/* HEART GAME */
let hearts=0;
function startHearts(){
  hearts=0;
  heartCount.innerText="0 / 5";
  const interval=setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="üíó";
    h.style.left=Math.random()*90+"vw";
    h.style.top=Math.random()*90+"vh";
    h.onclick=()=>{
      hearts++;
      heartCount.innerText=hearts+" / 5";
      h.remove();
      if(hearts===5){
        clearInterval(interval);
        fireworks();
        setTimeout(()=>{show("page3");loadPuzzle();},800);
      }
    };
    page2.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  },800);
}

/* PUZZLE GAME */
let first=null;

function loadPuzzle(){
  puzzle.innerHTML="";
  first=null;
  let order=[0,1,2,3,4,5,6,7,8].sort(()=>Math.random()-0.5);

  order.forEach(pos=>{
    const d=document.createElement("div");
    d.className="piece";
    d.style.backgroundPosition=`${-(pos%3)*100}px ${-Math.floor(pos/3)*100}px`;
    d.onclick=()=>selectPiece(d);
    puzzle.appendChild(d);
  });
}

function selectPiece(p){
  if(!first){
    first=p;
    p.style.outline="2px solid pink";
  }else{
    [first.style.backgroundPosition,p.style.backgroundPosition]=
    [p.style.backgroundPosition,first.style.backgroundPosition];
    first.style.outline="none";
    first=null;
    checkSolved();
  }
}

function checkSolved(){
  const pcs=document.querySelectorAll(".piece");
  let ok=true;
  pcs.forEach((p,i)=>{
    if(p.style.backgroundPosition!==`${-(i%3)*100}px ${-Math.floor(i/3)*100}px`)
      ok=false;
  });
  if(ok){
    fireworks();
    setTimeout(()=>show("page4"),1200);
  }
}
</script>

</body>
  </html>
