<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy-New-Year-Rasla</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#000;
  color:white;
  text-align:center;
  overflow:hidden;
}
.page{
  display:none;
  height:100vh;
  width:100vw;
}
.active{display:block}

/* HEARTBEAT */
.heartbeat{
  animation:heartbeat 1s infinite;
  font-size:2em;
  color:pink;
}
@keyframes heartbeat{
  0%{transform:scale(1)}
  25%{transform:scale(1.15)}
  40%{transform:scale(1)}
  60%{transform:scale(1.2)}
  100%{transform:scale(1)}
}

/* MINI FIREWORKS */
.firework{
  position:fixed;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:explode .8s ease-out forwards;
  z-index:9999;
}
@keyframes explode{
  from{transform:scale(0);opacity:1}
  to{transform:scale(20);opacity:0}
}

/* HEART GAME */
.heart{
  position:absolute;
  font-size:30px;
  cursor:pointer;
}

/* PUZZLE */
.puzzle{
  display:grid;
  grid-template-columns:repeat(3,100px);
  gap:6px;
  justify-content:center;
  margin:auto;
}
.piece{
  width:100px;
  height:100px;
  background-image:url("IMG-20251005-WA0029.jpg");
  background-size:300px 300px;
  border-radius:12px;
  cursor:pointer;
}

/* IMAGES */
img{
  max-width:80%;
  margin:10px;
  border-radius:15px;
}
</style>
</head>

<body>

<!-- MUSIC -->
<audio id="bgMusic" loop preload="auto">
  <source src="A_Thousand_Years_Lyrics_-_Christina_Perri_#athousandyears_#christinaperri#trending_#lyrics(256k).mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 PASSWORD -->
<div class="page active" id="page1">
  <h1>Happy New Year Rasla â¤ï¸</h1>
  <input type="password" id="pass" placeholder="Enter Password">
  <br><br>
  <button onclick="checkPass()">Enter</button>
  <p id="statusText">Enter Password</p>
</div>

<!-- PAGE 2 HEART GAME -->
<div class="page" id="page2">
  <h2>Catch 5 Hearts ğŸ’—</h2>
  <p id="heartCount">0 / 5</p>
</div>

<!-- PAGE 3 PUZZLE -->
<div class="page" id="page3">
  <h2>Love Puzzle ğŸ’–</h2>
  <div class="puzzle" id="puzzle"></div>
</div>

<!-- PAGE 4 WISH -->
<div class="page" id="page4">
  <h2>My Wish for This New Year</h2>
  <p>
    This New Year, I donâ€™t wish for money,<br>
    I donâ€™t wish for fame,<br>
    I donâ€™t wish for success.<br><br>

    My only wish is <b>you, Rasla â¤ï¸</b><br><br>

    Because when you are with me,<br>
    every fear becomes calm,<br>
    every broken part feels complete,<br>
    and every moment feels like home.<br><br>

    If I have you,<br>
    I already have everything.<br><br>

    <b>Happy New Year, my forever. ğŸ†</b>
  </p>

  <img src="IMG-20251129-WA0066.jpg">
  <img src="IMG-20251129-WA0032.jpg">
</div>

<script>
/* PAGE CONTROL */
function show(id){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* MUSIC â€“ ANY USER ACTION */
let musicStarted=false;
function startMusic(){
  if(!musicStarted){
    const music=document.getElementById("bgMusic");
    music.volume=0.7;
    music.play().catch(()=>{});
    musicStarted=true;
  }
}
document.addEventListener("click",startMusic);
document.addEventListener("touchstart",startMusic);

/* FIREWORKS */
function miniFireworks(){
  for(let i=0;i<15;i++){
    const fw=document.createElement("div");
    fw.className="firework";
    fw.style.left=Math.random()*100+"vw";
    fw.style.top=Math.random()*100+"vh";
    fw.style.background=`hsl(${Math.random()*360},100%,60%)`;
    document.body.appendChild(fw);
    setTimeout(()=>fw.remove(),800);
  }
}

/* PASSWORD + COUNTDOWN */
function checkPass(){
  if(pass.value==="RAAHII"){
    let count=10;
    const status=document.getElementById("statusText");
    status.classList.add("heartbeat");

    const timer=setInterval(()=>{
      if(count>3){
        status.innerHTML="ğŸ’“ "+count;
      }else if(count===3){
        status.innerHTML="ğŸ’“ Get ready Raslaâ€¦ 3";
      }else if(count===2){
        status.innerHTML="ğŸ’“ Get ready Raslaâ€¦ 2";
      }else if(count===1){
        status.innerHTML="ğŸ’“ Get ready Raslaâ€¦ 1";
        miniFireworks();
      }
      count--;

      if(count<0){
        clearInterval(timer);
        show("page2");
        startHearts();
      }
    },1000);
  }else{
    alert("Wrong password âŒ");
  }
}

/* HEART GAME */
let hearts=0;
function startHearts(){
  hearts=0;
  document.getElementById("heartCount").innerHTML="0 / 5";

  const interval=setInterval(()=>{
    const h=document.createElement("div");
    h.className="heart";
    h.innerHTML="ğŸ’—";
    h.style.left=Math.random()*90+"vw";
    h.style.top=Math.random()*90+"vh";
    h.onclick=()=>{
      hearts++;
      document.getElementById("heartCount").innerHTML=hearts+" / 5";
      h.remove();
      if(hearts===5){
        clearInterval(interval);
        show("page3");
        loadPuzzle();
      }
    };
    document.getElementById("page2").appendChild(h);
    setTimeout(()=>h.remove(),3000);
  },800);
}

/* PUZZLE GAME */
let first=null;

function loadPuzzle(){
  const puzzle=document.getElementById("puzzle");
  puzzle.innerHTML="";
  first=null;

  let order=[0,1,2,3,4,5,6,7,8];
  order.sort(()=>Math.random()-0.5);

  order.forEach((pos,i)=>{
    const div=document.createElement("div");
    div.className="piece";

    const x=(pos%3)*-100;
    const y=Math.floor(pos/3)*-100;
    div.style.backgroundPosition=`${x}px ${y}px`;

    div.onclick=()=>selectPiece(div,i);
    puzzle.appendChild(div);
  });
}

function selectPiece(piece,index){
  if(!first){
    first={piece,index};
    piece.style.outline="2px solid pink";
  }else{
    swapPieces(first.piece,piece);
    first.piece.style.outline="none";
    first=null;
    checkSolved();
  }
}

function swapPieces(a,b){
  const temp=a.style.backgroundPosition;
  a.style.backgroundPosition=b.style.backgroundPosition;
  b.style.backgroundPosition=temp;
}

function checkSolved(){
  const pieces=document.querySelectorAll(".piece");
  let correct=true;
  pieces.forEach((p,i)=>{
    const x=(i%3)*-100+"px";
    const y=Math.floor(i/3)*-100+"px";
    if(p.style.backgroundPosition!==`${x} ${y}`) correct=false;
  });

  if(correct){
    miniFireworks();
    setTimeout(()=>show("page4"),1200);
  }
}
</script>

</body>
  </html>
